import{r as l}from"./index-x4Ro_lB7.js";const T=e=>typeof e=="boolean"||e instanceof Boolean,q=e=>typeof e=="number"||e instanceof Number,M=e=>typeof e=="bigint"||e instanceof BigInt,B=e=>!!e&&e instanceof Date,K=e=>typeof e=="string"||e instanceof String,G=e=>Array.isArray(e),Q=e=>typeof e=="object"&&e!==null,J=e=>!!e&&e instanceof Object&&typeof e=="function";function x(e,t){return t===void 0&&(t=!1),!e||t?`"${e}"`:e}function $(e,t,n){return n?JSON.stringify(e):t?`"${e}"`:e}function O(e){let{field:t,value:n,data:o,lastElement:u,openBracket:a,closeBracket:i,level:d,style:s,shouldExpandNode:p,clickToExpandNode:g,outerRef:h,beforeExpandChange:k}=e;const _=l.useRef(!1),[m,S]=l.useState(()=>p(d,n,t)),I=l.useRef(null);l.useEffect(()=>{_.current?S(p(d,n,t)):_.current=!0},[p]);const F=l.useId();if(o.length===0)return U({field:t,openBracket:a,closeBracket:i,lastElement:u,style:s});const j=m?s.collapseIcon:s.expandIcon,L=m?s.ariaLables.collapseJson:s.ariaLables.expandJson,w=d+1,D=o.length-1,V=r=>{m!==r&&(!k||k({level:d,value:n,field:t,newExpandValue:r}))&&S(r)},N=r=>{if(r.key==="ArrowRight"||r.key==="ArrowLeft")r.preventDefault(),V(r.key==="ArrowRight");else if(r.key==="ArrowUp"||r.key==="ArrowDown"){r.preventDefault();const b=r.key==="ArrowUp"?-1:1;if(!h.current)return;const f=h.current.querySelectorAll("[role=button]");let E=-1;for(let y=0;y<f.length;y++)if(f[y].tabIndex===0){E=y;break}if(E<0)return;const C=(E+b+f.length)%f.length;f[E].tabIndex=-1,f[C].tabIndex=0,f[C].focus()}},v=()=>{var r;V(!m);const b=I.current;if(!b)return;const f=(r=h.current)===null||r===void 0?void 0:r.querySelector('[role=button][tabindex="0"]');f&&(f.tabIndex=-1),b.tabIndex=0,b.focus()};return l.createElement("div",{className:s.basicChildStyle,role:"treeitem","aria-expanded":m,"aria-selected":void 0},l.createElement("span",{className:j,onClick:v,onKeyDown:N,role:"button","aria-label":L,"aria-expanded":m,"aria-controls":m?F:void 0,ref:I,tabIndex:d===0?0:-1}),(t||t==="")&&(g?l.createElement("span",{className:s.clickableLabel,onClick:v,onKeyDown:N},x(t,s.quotesForFieldNames),":"):l.createElement("span",{className:s.label},x(t,s.quotesForFieldNames),":")),l.createElement("span",{className:s.punctuation},a),m?l.createElement("ul",{id:F,role:"group",className:s.childFieldsContainer},o.map((r,b)=>l.createElement(A,{key:r[0]||b,field:r[0],value:r[1],style:s,lastElement:b===D,level:w,shouldExpandNode:p,clickToExpandNode:g,outerRef:h}))):l.createElement("span",{className:s.collapsedContent,onClick:v,onKeyDown:N}),l.createElement("span",{className:s.punctuation},i),!u&&l.createElement("span",{className:s.punctuation},","))}function U(e){let{field:t,openBracket:n,closeBracket:o,lastElement:u,style:a}=e;return l.createElement("div",{className:a.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&l.createElement("span",{className:a.label},x(t,a.quotesForFieldNames),":"),l.createElement("span",{className:a.punctuation},n),l.createElement("span",{className:a.punctuation},o),!u&&l.createElement("span",{className:a.punctuation},","))}function X(e){let{field:t,value:n,style:o,lastElement:u,shouldExpandNode:a,clickToExpandNode:i,level:d,outerRef:s,beforeExpandChange:p}=e;return O({field:t,value:n,lastElement:u||!1,level:d,openBracket:"{",closeBracket:"}",style:o,shouldExpandNode:a,clickToExpandNode:i,data:Object.keys(n).map(g=>[g,n[g]]),outerRef:s,beforeExpandChange:p})}function Y(e){let{field:t,value:n,style:o,lastElement:u,level:a,shouldExpandNode:i,clickToExpandNode:d,outerRef:s,beforeExpandChange:p}=e;return O({field:t,value:n,lastElement:u||!1,level:a,openBracket:"[",closeBracket:"]",style:o,shouldExpandNode:i,clickToExpandNode:d,data:n.map(g=>[void 0,g]),outerRef:s,beforeExpandChange:p})}function z(e){let{field:t,value:n,style:o,lastElement:u}=e,a,i=o.otherValue;return n===null?(a="null",i=o.nullValue):n===void 0?(a="undefined",i=o.undefinedValue):K(n)?(a=$(n,!o.noQuotesForStringValues,o.stringifyStringValues),i=o.stringValue):T(n)?(a=n?"true":"false",i=o.booleanValue):q(n)?(a=n.toString(),i=o.numberValue):M(n)?(a=`${n.toString()}n`,i=o.numberValue):B(n)?a=n.toISOString():J(n)?a="function() { }":a=n.toString(),l.createElement("div",{className:o.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&l.createElement("span",{className:o.label},x(t,o.quotesForFieldNames),":"),l.createElement("span",{className:i},a),!u&&l.createElement("span",{className:o.punctuation},","))}function A(e){const t=e.value;return G(t)?l.createElement(Y,Object.assign({},e)):Q(t)&&!B(t)&&!J(t)?l.createElement(X,Object.assign({},e)):l.createElement(z,Object.assign({},e))}var c={"container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","child-fields-container":"_1BXBN","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti"};const P={collapseJson:"collapse JSON",expandJson:"expand JSON"},R={container:c["container-light"],basicChildStyle:c["basic-element-style"],childFieldsContainer:c["child-fields-container"],label:c["label-light"],clickableLabel:c["clickable-label-light"],nullValue:c["value-null-light"],undefinedValue:c["value-undefined-light"],stringValue:c["value-string-light"],booleanValue:c["value-boolean-light"],numberValue:c["value-number-light"],otherValue:c["value-other-light"],punctuation:c["punctuation-light"],collapseIcon:c["collapse-icon-light"],expandIcon:c["expand-icon-light"],collapsedContent:c["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1,ariaLables:P,stringifyStringValues:!1},W=()=>!0,Z=e=>{let{data:t,style:n=R,shouldExpandNode:o=W,clickToExpandNode:u=!1,beforeExpandChange:a,...i}=e;const d=l.useRef(null);return l.createElement("div",Object.assign({"aria-label":"JSON view"},i,{className:n.container,ref:d,role:"tree"}),l.createElement(A,{value:t,style:{...R,...n},lastElement:!0,level:0,shouldExpandNode:o,clickToExpandNode:u,outerRef:d,beforeExpandChange:a}))};export{Z as J,W as a};
