import{a as l,u as d,r as p,j as a,C as m,F as u,b as h,c as x,B as f}from"./index-x4Ro_lB7.js";import{A as y}from"./index-C4a4bbUT.js";import"./Modal-Dd_ICExf.js";import"./TransitionWrapper-WYXf0dFm.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./querySelectorAll-C-tQz4TH.js";import"./index.modern--LruQv1w.js";function k(){const t=l(e=>e.dsDebugger),r=d(),c=t.dataSources,n=t.userEmailIds,o=l(e=>e.auth),i=D(o),s=p.useRef();return a.jsxs(m,{fluid:!0,children:[a.jsxs(u.Group,{className:"mb-3",children:[a.jsx(u.Control,{className:"mb-3",type:"text",placeholder:"Enter the User Email ID(s)",onChange:function(e){r(h(e.currentTarget.value.split(",")))}}),a.jsx(u.Control,{className:"mb-3",type:"text",placeholder:"Enter the DataSource ID(s)",onChange:function(e){r(x(e.currentTarget.value.split(",")))}})]}),i&&a.jsx(f,{className:"mt-2",style:{width:"100%"},as:"input",type:"button",value:"Index User in Data Source",onClick:async()=>{await b(o,c,n,s)}}),a.jsx(y,{alertRef:s})]})}function D(t){return!!(t.token&&t.emailAddress&&t.backendURL)}async function b(t,r,c,n){const o={dataSources:r,userEmailIds:c},i=await fetch("/api/index/indexuser",{headers:{authorization:`${t.token}`,"x-api-host":t.backendURL,"content-type":"application/json"},method:"post",credentials:"include",body:JSON.stringify(o)});try{const s=await i.json();n.current.setData(s),n.current.setTitle("User in the DS Status"),n.current.handleShow()}catch(s){console.log(s)}}export{k as default};
