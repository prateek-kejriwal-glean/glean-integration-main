import{u as p,r as u,a as m,j as t,C as x,F as l,B as h}from"./index-x4Ro_lB7.js";import{A as n,S as d}from"./status-tab-DLqopJbv.js";import"./hook-BLte72Pb.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./TransitionWrapper-WYXf0dFm.js";function w({ref:s}){p();const[r,c]=u.useState(),[a,o]=u.useState(),i=m(e=>e.auth);return j(i),t.jsx(x,{fluid:!0,children:t.jsxs(l.Group,{className:"mb-3",children:[t.jsx(l.Control,{type:"text",placeholder:"Enter the Datasource Name / ID",onChange:function(e){c(e.currentTarget.value.split(","))},value:r,className:"mb-3"}),t.jsx(n,{alwaysOpen:!0,children:a&&a.length>0&&a.map(e=>t.jsxs(n.Item,{eventKey:e.dataSource,children:[t.jsxs(n.Header,{children:["Datasource: ",e.dataSource]}),t.jsx(n.Body,{children:t.jsxs(n,{alwaysOpen:!0,children:[t.jsx(d,{title:"Documents",response:e.response}),t.jsx(d,{title:"Identity",response:e.response})]})})]},e.dataSource))}),t.jsx(h,{className:"mt-2",style:{width:"100%",letterSpacing:"8px"},as:"input",type:"button",value:"INDEX",onClick:async()=>{o(await y(i,r))}})]})})}function j(s){return!!(s.token&&s.emailAddress&&s.backendURL)}async function y(s,r){const c={dataSources:r},a=await fetch("/api/index/datasourcestatus",{headers:{authorization:`${s.token}`,"x-api-host":s.backendURL,"content-type":"application/json"},method:"post",credentials:"include",body:JSON.stringify(c)});try{return await a.json()}catch(o){console.log(o)}}export{w as default};
